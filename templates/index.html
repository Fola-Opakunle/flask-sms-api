
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>API SMS Sender</title>
    <style>
      body { font-family: Arial, sans-serif; margin: 2rem; }
      .container { max-width: 640px; margin: 0 auto; }
      .flash { padding: 12px 16px; border-radius: 8px; margin-bottom: 16px; }
      .flash.success { background: #e7f7ee; border: 1px solid #86dfa8; }
      .flash.error { background: #fdecea; border: 1px solid #f5a6a1; }
      button { padding: 12px 18px; border-radius: 8px; border: 0; cursor: pointer; }
      button:hover { opacity: 0.9; }
      .btn { background: #3b82f6; color: white; font-size: 1rem; }
      .card { border: 1px solid #e5e7eb; border-radius: 10px; padding: 20px; }
      .muted { color: #6b7280; font-size: 0.9rem; }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Send Combined API SMS</h1>
      <p class="muted">This will fetch data from Harry Potter API, OpenWeather, and OpenNotify, then send one SMS through Twilio.</p>

      <!-- Flash area for success/error messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="flash {{ category }}">{{ message }}</div>
          {% endfor %}
        {% endif %}
      {% endwith %}

      <div class="card">
        <form action="/" method="POST">
          <!-- One button triggers the SMS send flow -->
          <button class="btn" type="submit">Send Message</button>
        </form>
      </div>

      <p class="muted" style="margin-top: 16px;">
        Tip: Twilio trial accounts can only send SMS to verified numbers. See the README for setup instructions.
      </p>
    </div>
  </body>
</html>
